[{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388467212","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-388467212","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":388467212,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODQ2NzIxMg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-11T19:45:40Z","updated_at":"2018-05-11T19:45:40Z","body":"Nice! \r\n\r\nRank normalization is definitely important. I'd approach this rank normalization as any kind of term mapping: retain the original and provide a reproducible mapping. Similar to taxon term, I imagine that we select / create a rank ontology/vocabulary (can be more than one), and then provide exhaustive mappings from provided terms to these controller terms. Perhaps we can re-use the wikidata rank ids. \r\n\r\nmap:\r\n\r\nprovidedId | providedName | resolvedId | resolvedName\r\n-- | -- | -- | --\r\n  | classe | some:id0 | class\r\n  | soort | some:id1 | genus\r\n\r\nand cache:\r\n\r\n\r\nid | name | rank | commonNames | path | pathIds | pathNames | externalUrl | thumbnailUrl\r\n-- | -- | -- | -- | -- | -- | -- | -- | --\r\nsome:id0 | class |   | klasse @nl \\| class @en   |   |   |   |   |  \r\nsome:id1 | genus |   | soort @nl \\| genus @en |   |   |   |   |  \r\n\r\n\r\n\r\nOnce this is present, we can easily produce various taxonCache formats, pipe-delimited (aka dwca taxon hierarchy style), column-based as you proposed or perhaps a hybrid. \r\n\r\nThis said, I think that taxonCache / taxonMap should probably be renamed to termCache and termMap, because they describe a mapping from one ranked hierarchical term to another in a relatively straightforward way.\r\n\r\nCurious to hear your thoughts.\r\n\r\n\r\n ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388467212/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388485073","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-388485073","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":388485073,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODQ4NTA3Mw==","user":{"login":"cboettig","id":222586,"node_id":"MDQ6VXNlcjIyMjU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/222586?v=4","gravatar_id":"","url":"https://api.github.com/users/cboettig","html_url":"https://github.com/cboettig","followers_url":"https://api.github.com/users/cboettig/followers","following_url":"https://api.github.com/users/cboettig/following{/other_user}","gists_url":"https://api.github.com/users/cboettig/gists{/gist_id}","starred_url":"https://api.github.com/users/cboettig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cboettig/subscriptions","organizations_url":"https://api.github.com/users/cboettig/orgs","repos_url":"https://api.github.com/users/cboettig/repos","events_url":"https://api.github.com/users/cboettig/events{/privacy}","received_events_url":"https://api.github.com/users/cboettig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-11T21:03:42Z","updated_at":"2018-05-11T21:03:42Z","body":"Very nice, I think this sounds like exactly the way to go.  And using wikidata ids for resolved ID rank labels sounds like a good choice.  ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388485073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388502747","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-388502747","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":388502747,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODUwMjc0Nw==","user":{"login":"cmungall","id":50745,"node_id":"MDQ6VXNlcjUwNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/50745?v=4","gravatar_id":"","url":"https://api.github.com/users/cmungall","html_url":"https://github.com/cmungall","followers_url":"https://api.github.com/users/cmungall/followers","following_url":"https://api.github.com/users/cmungall/following{/other_user}","gists_url":"https://api.github.com/users/cmungall/gists{/gist_id}","starred_url":"https://api.github.com/users/cmungall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmungall/subscriptions","organizations_url":"https://api.github.com/users/cmungall/orgs","repos_url":"https://api.github.com/users/cmungall/repos","events_url":"https://api.github.com/users/cmungall/events{/privacy}","received_events_url":"https://api.github.com/users/cmungall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-11T22:39:44Z","updated_at":"2018-05-11T22:39:44Z","body":"Cc @pmidford do you still maintain your rank ontology? Has this been superseded by wikidata?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388502747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388571364","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-388571364","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":388571364,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODU3MTM2NA==","user":{"login":"pmidford","id":391054,"node_id":"MDQ6VXNlcjM5MTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/391054?v=4","gravatar_id":"","url":"https://api.github.com/users/pmidford","html_url":"https://github.com/pmidford","followers_url":"https://api.github.com/users/pmidford/followers","following_url":"https://api.github.com/users/pmidford/following{/other_user}","gists_url":"https://api.github.com/users/pmidford/gists{/gist_id}","starred_url":"https://api.github.com/users/pmidford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmidford/subscriptions","organizations_url":"https://api.github.com/users/pmidford/orgs","repos_url":"https://api.github.com/users/pmidford/repos","events_url":"https://api.github.com/users/pmidford/events{/privacy}","received_events_url":"https://api.github.com/users/pmidford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-12T17:43:34Z","updated_at":"2018-05-12T17:43:34Z","body":"I haven't maintained the rank ontology for a while, I'd check with @balhoff (and I'm ok if you change this in the foundry entry).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/388571364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/391454826","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-391454826","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":391454826,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTQ1NDgyNg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-23T18:41:34Z","updated_at":"2018-05-23T18:41:53Z","body":"I've create a simple (perhaps too simple) mapping from occurring rank names to wikidata ids here:\r\nhttps://github.com/globalbioticinteractions/nomer/blob/45543c100c4b4c3a892250768ffe0bb7ef6569fe/nomer/src/main/resources/org/globalbioticinteractions/nomer/util/taxon_rank_links.tsv\r\nand here:\r\nhttps://github.com/globalbioticinteractions/nomer/blob/45543c100c4b4c3a892250768ffe0bb7ef6569fe/nomer/src/main/resources/org/globalbioticinteractions/nomer/util/taxon_ranks.tsv\r\n\r\nWith that, you can know do things like:\r\n```echo -e \"\\tgenus\" | java -jar nomer.jar append globi-taxon-rank ```\r\nwhich results in:\r\n```\r\n\tgenus\tSAME_AS\tWD:Q34740\tgenus\t\t\tgenus\t\thttps://www.wikidata.org/wiki/Q34740\t\r\n```\r\nStill have to figure out a clever way to apply the same to lists like ```family | genus```. . . \r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/391454826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/391572862","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-391572862","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":391572862,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTU3Mjg2Mg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-24T03:03:35Z","updated_at":"2018-05-24T03:03:35Z","body":"Now pre-populating rank data from live wikidata, adding common names from many languages and associated mapping.\r\n\r\nSo now, ```echo -e \"\\種\" | java -jar nomer/target/nomer-0.0.1-SNAPSHOT-jar-with-dependencies.jar append globi-taxon-rank```\r\n\r\nproduces:\r\n\r\n```\r\n\t種\tSAME_AS\tWD:Q7432\tspecies\t\tSpeiceas @ga | especie @gl | Juehegua @gn | Art @gsw | જાતિ @gu | जाति @hi | Species @hif | Vrsta @hr | Družina @hsb | Espès @ht | faj @hu | տեսակ @hy | specie @ia | Spesies @id | sebbangan @ilo | Tegund @is | specie @it | jutsi @jbo | Spesies @jv | სახეობა @ka | Түр @kk | ಜಾತಿ @kn | Биология тюрлю @krc | Cure @ku | species @la | Aart @lb | Spéce @lmo | ແອສະແປດ @lo | Rūšis @lt | suga @lv | вид @mk | ഉപവർഗ്ഗം @ml | Spesies @ms | speċi @mt | မျိုးစိတ် @my | تی @mzn | Specia @nap | art @nb | Oort (Biologie) @nds | Soort @nds-nl | प्रजाति @new | art @nn | espècia @oc | ପ୍ରଜାତି @or | ਪ੍ਰਜਾਤੀ @pa | Espesye @pam | Spece @pms | سپیشیز @pnb | توکمونه @ps | espécie @pt | espécie @pt-br | Rikch'aq @qu | specie @ro | вид @ru | Вид @rue | Көрүҥ @sah | specia @scn | species @sco | Vrsta @sh | Druh @sk | Nuucyada dhirta @so | Lloji @sq | врста @sr | Spésiés @su | Spishi @sw | намуд @tg | намуд @tg-cyrl | namud @tg-latn | สปีชีส์ @th | Biologik görnüş @tk | Espesye @tl | Tür @tr | төр @tt | төр @tt-cyrl | tör @tt-latn | вид @uk | نوع @ur | Tur @uz | Spece @vec | loài @vi | Sôorte @vls | Indje @wa | Espesye @war | זגאל @yi | 物種 @yue | 种 @zh | 种 @zh-cn | 物种 @zh-hans | 種 @zh-hk | විශේෂය @si | soort @nl | specio @eo | 종 @ko | gatunek @pl | species @en-gb | Vrsta @bs | species @en | art @sv | especie @es | espèce @fr | نوع @ar | Art @de | 種 @ja | espècie @ca | இனம் @ta | 物種 @zh-hant | מין @he | Vrsta @sl | گونه @fa | Зүйл @mn | species @en-ca | జాతి @te | Chéng @nan | druh @cs | Spesie @af | Especie @an | প্ৰজাতি @as | Especie @ast | Bioloji növ @az | Төр @ba | Oart @bar | біялагічны від @be | від @be-tarask | вид @bg | প্রজাতি @bn | Spesad @br | جۆرە @ckb | spezia @co | Тĕс @cv | Rhywogaeth @cy | art @da | Art @de-ch | είδος @el | Liik @et | espezie @eu | laji @fi | Slach @frr | soarte @fy\tspecies\tWD:Q7432\thttps://www.wikidata.org/wiki/Q7432\t\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/391572862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/393391057","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-393391057","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":393391057,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzM5MTA1Nw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T03:34:58Z","updated_at":"2018-05-31T03:37:00Z","body":"just added a feature to nomer called \"replace\", which allows for:\r\n\r\n```echo -e \"\\tsoort | orde | familie\" | java -jar nomer.jar replace globi-taxon-rank``` to produce \r\n\r\n```WD:Q7432 | WD:Q36602 | WD:Q35409\\tspecies | order | family``` . Rather than appending the matched results to the end of the line, replace puts the matches inside the existing columns / table. Note that soort, orde and familie are Dutch common names for ranks species, order and family respectively. The preceding ids are the corresponding wiki data taxon rank items, like https://www.wikidata.org/wiki/Q7432 (species). Note that replace also supports pipe separated lists.\r\n\r\nThis replace command should make it easier to normalize existing tabular files without having to cut/paste columns all over the place. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/393391057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395987166","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-395987166","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":395987166,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTk4NzE2Ng==","user":{"login":"cboettig","id":222586,"node_id":"MDQ6VXNlcjIyMjU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/222586?v=4","gravatar_id":"","url":"https://api.github.com/users/cboettig","html_url":"https://github.com/cboettig","followers_url":"https://api.github.com/users/cboettig/followers","following_url":"https://api.github.com/users/cboettig/following{/other_user}","gists_url":"https://api.github.com/users/cboettig/gists{/gist_id}","starred_url":"https://api.github.com/users/cboettig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cboettig/subscriptions","organizations_url":"https://api.github.com/users/cboettig/orgs","repos_url":"https://api.github.com/users/cboettig/repos","events_url":"https://api.github.com/users/cboettig/events{/privacy}","received_events_url":"https://api.github.com/users/cboettig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-09T17:49:39Z","updated_at":"2018-06-09T17:49:39Z","body":"@jhpoelen I've applied the rank map to the taxonCache to standardize the rank names as discussed above.  I've noticed that for some IDs, this results in conflicting names for a given rank, e.g. \r\n\r\n```\r\n  id                species                 path           path_rank\r\n   <chr>             <chr>                   <chr>          <chr>    \r\n 1 INAT_TAXON:121955 Blechnum discolor       Polypodiopsida class    \r\n 2 INAT_TAXON:121955 Blechnum discolor       Filicopsida    class    \r\n 3 INAT_TAXON:122082 Phegopteris connectilis Polypodiopsida class    \r\n 4 INAT_TAXON:122082 Phegopteris connectilis Filicopsida    class    \r\n 5 INAT_TAXON:122909 Asplenium bulbiferum    Polypodiopsida class    \r\n 6 INAT_TAXON:122909 Asplenium bulbiferum    Filicopsida    class    \r\n 7 INAT_TAXON:127079 Polypodium vulgare      Polypodiopsida class    \r\n 8 INAT_TAXON:127079 Polypodium vulgare      Filicopsida    class    \r\n 9 INAT_TAXON:129910 Chthamalus dalli        \"\"             class    \r\n10 INAT_TAXON:129910 Chthamalus dalli        Hexanauplia    class \r\n...\r\n```\r\n\r\nThis could easily be me just messing something up, haven't had a chance to dig into why I'm getting two different class names mapping to the same taxon id in these cases but thought I'd file this as a placeholder at least.  \r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395987166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395989087","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-395989087","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":395989087,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTk4OTA4Nw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-09T18:19:06Z","updated_at":"2018-06-09T18:19:37Z","body":"@cboettig you've uncovered an inconsistency between Global Names' perspective of iNaturalist taxonomy versus the iNaturalist taxonomy available through their rate limited API. \r\n\r\nNote for instance, https://www.inaturalist.org/taxa/121955 (retrieved 2018-06-09, see screenshot), has class Polypodiopsida, whereas a search in http://resolver.globalnames.org results in the same taxon related to a different class Filicopsida (see attached json retrieved 2018-06-09). Are there any non-iNaturalist taxa in this list?  \r\n\r\n![screenshot from 2018-06-09 11-11-08](https://user-images.githubusercontent.com/1084872/41194796-34580754-6bd6-11e8-8181-524d62f74b8f.png)\r\n[globalNamesiNat121955.json.txt](https://github.com/globalbioticinteractions/nomer/files/2087224/globalNamesiNat121955.json.txt)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395989087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395989405","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-395989405","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":395989405,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTk4OTQwNQ==","user":{"login":"cboettig","id":222586,"node_id":"MDQ6VXNlcjIyMjU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/222586?v=4","gravatar_id":"","url":"https://api.github.com/users/cboettig","html_url":"https://github.com/cboettig","followers_url":"https://api.github.com/users/cboettig/followers","following_url":"https://api.github.com/users/cboettig/following{/other_user}","gists_url":"https://api.github.com/users/cboettig/gists{/gist_id}","starred_url":"https://api.github.com/users/cboettig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cboettig/subscriptions","organizations_url":"https://api.github.com/users/cboettig/orgs","repos_url":"https://api.github.com/users/cboettig/repos","events_url":"https://api.github.com/users/cboettig/events{/privacy}","received_events_url":"https://api.github.com/users/cboettig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-09T18:25:29Z","updated_at":"2018-06-09T18:25:29Z","body":"Yeah, looks like it includes these prefixes\r\n\r\n```\r\n1 GBIF      \r\n2 INAT_TAXON\r\n3 IRMNG     \r\n4 NBN       \r\n5 NCBI      \r\n6 OTT       \r\n7 WORMS \r\n```\r\n\r\n~ from about 132,015 ids ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395989405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395992615","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-395992615","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":395992615,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTk5MjYxNQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-09T19:23:00Z","updated_at":"2018-06-09T19:23:39Z","body":"Thanks for sharing. I poked around a bit and the root cause of the multiple entries of ids range from a changing interpretation of the id (e.g., iNaturalist vs global names' inaturalist), a difference in interpretation (e.g., open tree of life is a synthetic taxonomy with underlying source taxonomies which sometimes overlap - I used the underlying taxonomy in path entries, whereas global names uses the ott synthetic ids in path) and silly export bugs (that pre-date nomer) like having an external url be inferred from an equivalent taxon.\r\n\r\nI created the taxon cache to overcome the reproducibility and performance hurdles introduced by data exposed via web apis. Now, it appears that the taxonCache is exposing the different interpretation of specific taxon ids by different systems (e.g., GBIF ids can be resolved in three ways: via eol.org, via gbif api, via globalnames, and indirectly via wikidata). Also, given my experience that APIs produce time dependent results, I can see how taxonCache is almost turning into some funky time series on the interpretation of a specific id. \r\n\r\nAll the more reason to urge those that publish identifiers and their interpretation to publish easy to use, versioned archives so that compiling consistent perspectives on a name graph can be done without breaking the bank. \r\n\r\nHowever, knowing that a consistent, versioned (how was this id/name interpreted in 2014 by xyz?), global names id mapping registry might take a while to materialize, this leaves some pragmatic questions - should GloBI be responsible to produce a consistent, non-conflicting interpretation of term/taxon ids? Or should GloBI do a best effort to link names and ids and include inconsistent interpretations? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395992615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395997218","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-395997218","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":395997218,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTk5NzIxOA==","user":{"login":"cboettig","id":222586,"node_id":"MDQ6VXNlcjIyMjU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/222586?v=4","gravatar_id":"","url":"https://api.github.com/users/cboettig","html_url":"https://github.com/cboettig","followers_url":"https://api.github.com/users/cboettig/followers","following_url":"https://api.github.com/users/cboettig/following{/other_user}","gists_url":"https://api.github.com/users/cboettig/gists{/gist_id}","starred_url":"https://api.github.com/users/cboettig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cboettig/subscriptions","organizations_url":"https://api.github.com/users/cboettig/orgs","repos_url":"https://api.github.com/users/cboettig/repos","events_url":"https://api.github.com/users/cboettig/events{/privacy}","received_events_url":"https://api.github.com/users/cboettig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-09T20:42:05Z","updated_at":"2018-06-09T20:42:05Z","body":"Well said.  Seems, perhaps unsurprisingly, that not all identifiers are created equal here; and these issues may be more acute with some than with others?   Ie ITIS doesn’t seem to exhibit this tendency to resolve differently from different sources?  Perhaps there is a subset of ID namespace authorities GLOBI could deem reliable?\r\n\r\nRe versioning, my understanding was that a proper uri ID ought to  be permanent in how it resolves and what it resolves to.  Changes should get new ids.  Information associated with the ID ought to include a date published , allowing one to decide which of two ids for the “same” species is most current, right?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/395997218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/398221927","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-398221927","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":398221927,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODIyMTkyNw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T23:02:00Z","updated_at":"2018-06-18T23:02:00Z","body":"@cboettig lets say that an identifier is a coded outcome of a shared understanding of a classification of some group of organisms by a group of humans at a particular time. Now, assuming that the shared understanding and group dynamics change over time, it is intuitive to see an identifier as time  dependent. Studying the availability, use and interpretation of a specific identifier would be a proxy for studying the dynamics of the group of humans that maintains the identifier. With a linked name graph like the one that GloBI taxon graph provides, you can not only study the shift/drift in interpretation of taxon ids, you can also compare the drift to equivalent taxonomic ids from other name source. I believe such studies have been done with scientific names, and haven't yet seen a similar exercise with identifiers. I am not quite sure whether to say that \"shifting\" identifiers are necessary less reliable. They might actually be an indication of an active curation of a taxonomic naming scheme.\r\n\r\nNot quite sure about the statement \"changes should get new ids\". Practically, I'd say that identifiers should be resolvable / retrievable, be marked as deprecated, replaced or updated by the id curators, and keep older copies around with some sort of versioning scheme for as long as the project is maintained. Depending on the use case,  the consumer of the ids can then select the appropriate version of the id. Whichever way the versioning is implemented (e.g., datetime stamp, git-like ledger/content hash), the adoption of this hinges on the practical use: given that most content publishers have trouble enough keeping their content relevant and accessible, I would assume that versioning of the published artifacts is probably best left to specialized services similar to the Internet Archive's way back machine. \r\n\r\nAll very complicated, and for practical purposes, I'd say that keeping versioned copies around for all data retrieved from a name source by individual projects would be a start. This is what I settled on by creating GloBI's taxon graph. As far as I can tell, publishing such an easy to access/parse name graph makes for interesting observations of the underlying services used. \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/398221927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/398259569","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-398259569","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":398259569,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODI1OTU2OQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-19T03:02:35Z","updated_at":"2018-06-19T03:04:39Z","body":"btw - Nico Franz was kind enough to point me to Franz, N.M. & Peet, R.K., 2009. Perspectives: Towards a language for mapping relationships among taxonomic concepts. Systematics and Biodiversity, 7(1), pp.5–20. Available at: http://dx.doi.org/10.1017/s147720000800282x.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/398259569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/597956825","html_url":"https://github.com/globalbioticinteractions/nomer/issues/7#issuecomment-597956825","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/7","id":597956825,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Nzk1NjgyNQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T01:11:11Z","updated_at":"2020-03-12T01:11:11Z","body":"see https://github.com/globalbioticinteractions/nomer/issues/5#issuecomment-597956495","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/597956825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]