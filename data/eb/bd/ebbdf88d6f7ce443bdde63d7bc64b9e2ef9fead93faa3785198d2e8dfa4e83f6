{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/84","repository_url":"https://api.github.com/repos/globalbioticinteractions/nomer","labels_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/84/labels{/name}","comments_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/84/comments","events_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/84/events","html_url":"https://github.com/globalbioticinteractions/nomer/issues/84","id":1277174248,"node_id":"I_kwDOBvmSqc5MICHo","number":84,"title":"How can I use nomer to translate verbatim names to normalized names?","user":{"login":"zedomel","id":7684564,"node_id":"MDQ6VXNlcjc2ODQ1NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7684564?v=4","gravatar_id":"","url":"https://api.github.com/users/zedomel","html_url":"https://github.com/zedomel","followers_url":"https://api.github.com/users/zedomel/followers","following_url":"https://api.github.com/users/zedomel/following{/other_user}","gists_url":"https://api.github.com/users/zedomel/gists{/gist_id}","starred_url":"https://api.github.com/users/zedomel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zedomel/subscriptions","organizations_url":"https://api.github.com/users/zedomel/orgs","repos_url":"https://api.github.com/users/zedomel/repos","events_url":"https://api.github.com/users/zedomel/events{/privacy}","received_events_url":"https://api.github.com/users/zedomel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-06-20T16:45:09Z","updated_at":"2022-10-04T20:49:06Z","closed_at":"2022-10-04T20:49:06Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi @jhpoelen \r\n\r\nI have this two columns files with **original/verbatim names** and **normalized names** and I would like to use `nomer` to mapping verbatim names to normalized names. \r\n\r\n```tsv\r\n pseudosericea Ã— Potentilla jepsonii\tPotentilla jepsonii\r\n\" Acourtia thurberi\tAcourtia thurberi\r\n\" Fraxinus velutina\tFraxinus velutina\r\n\" Mandeville brachysiphon\tMandeville brachysiphon\r\n\" Nolina microcarpa\tNolina microcarpa\r\n\" Rhus aromatica\tRhus aromatica\r\n\" Sarcomphalus obtusifolius\tSarcomphalus obtusifolius\r\n\" Schizachyrium sp.\tSchizachyrium\r\n\" and (probably planted) Enterolobium cyclocarpum\tEnterolobium cyclocarpum\r\n\"(occasional) Hydrodiction utriculatum\"\tHydrodiction utriculatum\r\n````\r\nI have used `grep` for that, but it is very slow. You talked about using `translate-names` matcher and I'm wondering if it can be extended to provide the whole classification (taxonomic ranks). For example if a I have this files:\r\n\r\n```csv\r\nHilaria j,Hilaria,Plantae|Tracheophyta|Liliopsida|Poales|Poaceae|Hilaria,kingdom|phylum|class|order|family|genus\r\n```\r\n where the first column is the verbatim name, how can I use `translate-names` to get all the data up to the second column when a match is found?\r\n\r\nThe solution that I found was to provide a two column mapping file for `nomer.taxon.name.correction.url` where I provided the corrected name + full hierarchy in the second column separated by a delimiter (e.g. `#`). After runing `nomer replace translate-names` I replaced this dummy delimiter by a actual field delimiter (`\\t`):\r\n\r\n`nomer.taxon.name.correction.url` file:\r\n\r\n```csv\r\nHilaria jamesii,Hilaria jamesii#Plantae|Tracheophyta|Liliopsida|Poales|Poaceae|Hilaria|Hilaria jamesii#kingdom|phylum|class|order|family|genus|species\r\n```\r\n\r\ncommand:\r\n`cat names.tsv | nomer replace translate-names | sed 's/#/\\t/g' > names-translated.csv`\r\n\r\nthanks.\r\n\r\n\r\n","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/84/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/84/timeline","performed_via_github_app":null,"state_reason":"completed"}