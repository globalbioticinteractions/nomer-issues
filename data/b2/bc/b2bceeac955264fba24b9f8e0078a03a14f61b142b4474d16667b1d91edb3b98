[{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1326665220","html_url":"https://github.com/globalbioticinteractions/nomer/issues/128#issuecomment-1326665220","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/128","id":1326665220,"node_id":"IC_kwDOBvmSqc5PE04E","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T16:36:06Z","updated_at":"2022-11-24T16:36:06Z","body":"@jtmiller28 thanks for sharing your ideas. I think you carefully described taxonomic parsing approach makes a lot of sense. \r\n\r\nAs I was thinking about this over the last couple of days, I was wondering about how this proposed parsing workflow would change the taxonomic perspective on a dataset.\r\n\r\nIn a way, depending on the provided name, you'd apply a different taxonomic perspective: for some names, you'd find a match using: ``` try canonicalNameWithMarker + authorship```, whereas for other names, you'd try ```found = try genusOrAbove + specificEpithet```. I assume that different matching error estimates (e.g., false positive rate) apply to the different matching algorithms. How would you estimate the matching errors in case of your assembled parsing strategies? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1326665220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1326880100","html_url":"https://github.com/globalbioticinteractions/nomer/issues/128#issuecomment-1326880100","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/128","id":1326880100,"node_id":"IC_kwDOBvmSqc5PFpVk","user":{"login":"jtmiller28","id":82229873,"node_id":"MDQ6VXNlcjgyMjI5ODcz","avatar_url":"https://avatars.githubusercontent.com/u/82229873?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmiller28","html_url":"https://github.com/jtmiller28","followers_url":"https://api.github.com/users/jtmiller28/followers","following_url":"https://api.github.com/users/jtmiller28/following{/other_user}","gists_url":"https://api.github.com/users/jtmiller28/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmiller28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmiller28/subscriptions","organizations_url":"https://api.github.com/users/jtmiller28/orgs","repos_url":"https://api.github.com/users/jtmiller28/repos","events_url":"https://api.github.com/users/jtmiller28/events{/privacy}","received_events_url":"https://api.github.com/users/jtmiller28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T22:54:58Z","updated_at":"2022-11-25T18:51:00Z","body":"Good point @jhpoelen I see what you mean by having different levels of resolution being present in a dataset might be risky. I would argue that as the providers of the names, being aggregated together, cannot supply cohesive names across the board (some may elect to use subsp., cultivars, and varaties, some don't include authorship, etc.) that this method is more applicable then just losing data due to choosing an arbitrary level of resolution. This chance of failing resolution increases depending on the catalogue of choice, as we have seen notation/standards for names outside of just genus and specificEpithet differ. \r\n\r\nThe risk is still apparent, however; for example if a provider listed a name out to a variety but resolution fails at that level in WFO matching it will be only caught at the genus + specificEpithet level. This wouldn't be as the provider intended, but is it better to remove this record completely as would occur if no match is found? I would argue that provided the scope is still within the species level, that there is still relevant biology to be described by taking a step back recovering the name to genus + specificEpithet vs removal of the name. \r\n\r\nI will keep this in mind and hopefully devise a good tagging system for labeling at which point resolution occurs per name in the matching scheme. Maybe addition logic is required such as assessing whether the canonicalName, canonicalNameWithMarker, and canonicalName + Authorship are = to better track when name resolution happens downstream of the originally intended name. \r\n\r\nThanks for your thoughts! I'll keep this in mind and hopefully have some numbers on these downstream parsed names for you in the near future. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1326880100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1351917349","html_url":"https://github.com/globalbioticinteractions/nomer/issues/128#issuecomment-1351917349","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/128","id":1351917349,"node_id":"IC_kwDOBvmSqc5QlJ8l","user":{"login":"jtmiller28","id":82229873,"node_id":"MDQ6VXNlcjgyMjI5ODcz","avatar_url":"https://avatars.githubusercontent.com/u/82229873?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmiller28","html_url":"https://github.com/jtmiller28","followers_url":"https://api.github.com/users/jtmiller28/followers","following_url":"https://api.github.com/users/jtmiller28/following{/other_user}","gists_url":"https://api.github.com/users/jtmiller28/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmiller28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmiller28/subscriptions","organizations_url":"https://api.github.com/users/jtmiller28/orgs","repos_url":"https://api.github.com/users/jtmiller28/repos","events_url":"https://api.github.com/users/jtmiller28/events{/privacy}","received_events_url":"https://api.github.com/users/jtmiller28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-14T18:29:46Z","updated_at":"2022-12-14T18:29:46Z","body":"Update with some Quantitative results: \r\n\r\nI proceeded with this idea and found some results of interest. The logic was to proceed step by step through the parsed names offered by gbif-parse using lower levels of complexity for resolution of each name. Using Coalesce through SQL a new table was constructed pulling the first name nonNull result and tracking at which step this resolution occurs.\r\n![image](https://user-images.githubusercontent.com/82229873/207669536-a42ec363-57c0-4ba8-b242-12d028a587f2.png)\r\n\r\nApplying this to my dataset with ~140,000 unique plant names to align, the following percentages represent how many names were resolved using this coalescent method. One thing of note is that names that were considered unparsable by gbif-parse such as unrecognizable complex hybrids were removed and not accounted for here. \r\n![image](https://user-images.githubusercontent.com/82229873/207677919-059b2aca-b064-4129-aec3-fa443fb53b25.png)\r\n\r\nMost interestingly, the majority of names (>75%) are resolved in their most complex form with and without authorship. A remaining ~9% of the data is resolved by removal of the marker or simplifying the names to just genus + specificEpithet. \r\n\r\nDiving deeper into authorship, ~80% of the unique names in this dataset had some form of associated authorship; however, these results make it apparent that authorship was a causative factor in name resolution failing. This is likely due to heterogeneity in authorship standards concerning punctuation, order of authors, etc when using exact matching schemes. One easy repair that was incorporated into this analysis was removal of white space, since my preliminary work showed that white space fixed 5% of the subset of names to pilot the script. Further work in fixing authorship would be a rigorous task in itself...considering that we would have to align all variations of authorship in aggregated datasets to be synonymous with the catalogues standard ( A mini version of what we are already doing with the scientificName!). \r\n\r\nMy biggest concern in terms of name alignment quality with this method would be the reduction of name complexity resulting in inappropriate name matching. A case for this could be that a lower level of taxonomic complexity (e.g. genus + specificEpithet) will map to a unintended synonymous name compared to the providers intentions. I have yet to find an example of this, but it seems to be an appropriate concern when considering that this method can simplify name complexity compared to the providers intentions.\r\n\r\nLooking at just measuring the amount of change from verbatim -> resolved names in my dataset, I looked at the percentage of change through the whole dataset using the World Flora Online Catalogue:\r\nverbatim -> accepted = 44.9% Names changed\r\n\r\nAnd just looking at how many species (something in either/both of genus + specificEpithet changed):\r\nverbatim -> accepted = 29% Names changed\r\n\r\nOverall these percentages seem rather high; however, GBIF's name resolution (based on their catalogue system) also imposes large quantities of change as well (38.1% for full names) & (27% for species names). \r\n\r\nThese comparisons aren't very helpful however since I am using wfo instead of their catalogue. A better comparison would be using gbif's catalogue through Nomer and then comparing the results. \r\n\r\nSo far this looks promising for dealing with complex aggregations of names, 87.9% of the names in my dataset we're resolved this way before introducing fuzzy matching which is great progress considering the complexity in infraspecific information in plant names.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1351917349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]