[{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/856860928","html_url":"https://github.com/globalbioticinteractions/nomer/issues/35#issuecomment-856860928","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/35","id":856860928,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njg2MDkyOA==","user":{"login":"zedomel","id":7684564,"node_id":"MDQ6VXNlcjc2ODQ1NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7684564?v=4","gravatar_id":"","url":"https://api.github.com/users/zedomel","html_url":"https://github.com/zedomel","followers_url":"https://api.github.com/users/zedomel/followers","following_url":"https://api.github.com/users/zedomel/following{/other_user}","gists_url":"https://api.github.com/users/zedomel/gists{/gist_id}","starred_url":"https://api.github.com/users/zedomel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zedomel/subscriptions","organizations_url":"https://api.github.com/users/zedomel/orgs","repos_url":"https://api.github.com/users/zedomel/repos","events_url":"https://api.github.com/users/zedomel/events{/privacy}","received_events_url":"https://api.github.com/users/zedomel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T15:16:08Z","updated_at":"2021-06-08T15:16:08Z","body":"@jhpoelen \r\n\r\nI tried to use \r\n```\r\nnomer.schema.input=[{\"column\":0,\"type\":\"externalId\"},{\"column\": 1,\"type\":\"name\"},{\"column\":2,\"type\":\"path.kingdom.name\"}]\r\nnomer.schema.output=[{\"column\":0,\"type\":\"externalId\"},{\"column\": 1,\"type\":\"name\"},{\"column\":2, \"type\":\"path.kingdom.name\"}]\r\n```\r\n\r\nBut seems that `nomer` does not understand the `type: \"path.kingdom.name\"`. Where should it be handle? May be in the same way of: [https://github.com/globalbioticinteractions/nomer/blob/8d4e2d70d0023f04bd33d2ad087fe4921050630a/nomer/src/main/java/org/globalbioticinteractions/nomer/util/AppenderTSV.java#L60](https://github.com/globalbioticinteractions/nomer/blob/8d4e2d70d0023f04bd33d2ad087fe4921050630a/nomer/src/main/java/org/globalbioticinteractions/nomer/util/AppenderTSV.java#L60) ?\r\n\r\nWhat are you thinking?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/856860928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/856867855","html_url":"https://github.com/globalbioticinteractions/nomer/issues/35#issuecomment-856867855","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/35","id":856867855,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njg2Nzg1NQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T15:24:15Z","updated_at":"2021-06-08T15:24:15Z","body":"@zedomel yes, Nomer needs to get a little smarter in interpreting the column types in context of a specific taxonomic path. \r\n\r\nAs far as I understand, we'd like to have something like:\r\n\r\n```\r\n$ echo -e \"\\tHomo sapiens\" | nomer replace -p [... some property magic ...]\r\nNCBI:9606{tab}Homo sapiens{tab}Animalia\r\n```\r\n \r\nwhere the third column type is the ```path.kingdom.name```, and the first and second are taxon id and taxon name.\r\n\r\n@zedomel does that capture our expected outcome after adding this new feature?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/856867855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/856949718","html_url":"https://github.com/globalbioticinteractions/nomer/issues/35#issuecomment-856949718","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/35","id":856949718,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njk0OTcxOA==","user":{"login":"zedomel","id":7684564,"node_id":"MDQ6VXNlcjc2ODQ1NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7684564?v=4","gravatar_id":"","url":"https://api.github.com/users/zedomel","html_url":"https://github.com/zedomel","followers_url":"https://api.github.com/users/zedomel/followers","following_url":"https://api.github.com/users/zedomel/following{/other_user}","gists_url":"https://api.github.com/users/zedomel/gists{/gist_id}","starred_url":"https://api.github.com/users/zedomel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zedomel/subscriptions","organizations_url":"https://api.github.com/users/zedomel/orgs","repos_url":"https://api.github.com/users/zedomel/repos","events_url":"https://api.github.com/users/zedomel/events{/privacy}","received_events_url":"https://api.github.com/users/zedomel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T17:18:07Z","updated_at":"2021-06-08T17:18:07Z","body":"yea! sound's perfect.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/856949718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/857857176","html_url":"https://github.com/globalbioticinteractions/nomer/issues/35#issuecomment-857857176","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/35","id":857857176,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Nzg1NzE3Ng==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T16:39:11Z","updated_at":"2021-06-09T16:39:11Z","body":"Note that while trying to figure out how to implement this, the Nomer's json support might be helpful - \r\n\r\n```\r\n$ echo -e \"\\tHomo sapiens\" | nomer append -o json globi-globalnames | jq .kingdom\r\nusing matcher [globi-globalnames]\r\n{\r\n  \"@id\": \"NCBITaxon:33208\",\r\n  \"name\": \"Metazoa\"\r\n}\r\n{\r\n  \"@id\": \"OTT:691846\",\r\n  \"name\": \"Metazoa\"\r\n}\r\n{\r\n  \"@id\": \"ITIS:202423\",\r\n  \"name\": \"Animalia\"\r\n}\r\n{\r\n  \"@id\": \"IRMNG:11\",\r\n  \"name\": \"Animalia\"\r\n}\r\n{\r\n  \"@id\": \"WORMS:2\",\r\n  \"name\": \"Animalia\"\r\n}\r\n{\r\n  \"@id\": \"GBIF:1\",\r\n  \"name\": \"Animalia\"\r\n}\r\n```\r\n\r\nsimilar results should be possible using the ```ncbi-taxa``` matcher.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/857857176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/859029519","html_url":"https://github.com/globalbioticinteractions/nomer/issues/35#issuecomment-859029519","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/35","id":859029519,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTAyOTUxOQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-10T20:27:47Z","updated_at":"2021-06-10T20:27:47Z","body":"@zedomel with recent changes, the following results are produced:\r\n\r\n```\r\n$ echo -e \"\\tHomo sapiens\\t\" | nomer replace -p nomer.properties globi-globalnames\r\n\tHomo sapiens\tMetazoa\r\n```\r\n\r\nwhere nomer.properties contains:\r\n\r\n```\r\nnomer.schema.output=[{\"column\":2,\"type\":\"path.kingdom.name\"}]\r\n```\r\n\r\nSimilarly, a value can be overridden, by\r\n\r\n```\r\n$ echo -e \"\\tHomo sapiens\\t\" | nomer replace -p nomer.properties globi-globalnames\r\n\tMetazoa\t\r\n```\r\n\r\nwhere nomer.properties contains:\r\n\r\n```\r\nnomer.schema.output=[{\"column\":1,\"type\":\"path.kingdom.name\"}]\r\n```\r\n\r\nthe ```ncbi-taxa``` matcher should produce similar results when used instead of the ```globi-globalnames``` matcher.\r\n\r\nThis functionality will be included in next Nomer release (i.e., v0.1.27)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/859029519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/859174502","html_url":"https://github.com/globalbioticinteractions/nomer/issues/35#issuecomment-859174502","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/35","id":859174502,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTE3NDUwMg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-11T00:28:28Z","updated_at":"2021-06-11T00:28:28Z","body":"@zedomel just released https://github.com/globalbioticinteractions/nomer/releases/tag/0.1.27 please let me know if this version has the desired functionality by commenting or reopening this issue. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/859174502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]