[{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/789969119","html_url":"https://github.com/globalbioticinteractions/nomer/issues/32#issuecomment-789969119","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/32","id":789969119,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTk2OTExOQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T18:45:14Z","updated_at":"2021-03-03T18:45:14Z","body":"hey @nleguillarme - \r\n\r\n> I have a lot of taxon names I'd like to match to the NCBI Taxonomy (because NCBI is actually the only taxonomy with an ontology representation : http://www.obofoundry.org/ontology/ncbitaxon.html)\r\n\r\nShouldn't be too hard to do similar things with other taxonomies, but I can see that it would be easy to reuse an existing resource.\r\n\r\n> However, it seems that Global Names Resolver is not able to resolve taxon names tagged as synonyms in NCBI.\r\n\r\nDid you consider contacting the Global Names folks about this? (e.g., @dima)\r\n\r\n> For instance, Holosticha manca is not resolved as a synonym of Anteholosticha manca : https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id=385028\r\n\r\n> So I think it would be interesting to have a matcher that directly interacts with the NCBI Taxonomy for name matching, similar to this python package : https://pypi.org/project/ncbi-taxonomist/\r\n\r\n> I can see how it would be nice to have a fast NCBI name matcher with offline support . A quick glance at the ncbi data, tell me that:\r\n\r\n```\r\n.../ncbi-taxa$ cat names.dmp | grep -E \"[a-zA-Z]*[ ]+manca\"\r\n385028\t|\tAnteholosticha manca (Kahl, 1932) Berger, 2003\t|\t\t|\tauthority\t|\r\n385028\t|\tAnteholosticha manca\t|\t\t|\tscientific name\t|\r\n385028\t|\tHolosticha manca Kahl, 1932\t|\t\t|\tauthority\t|\r\n385028\t|\tHolosticha manca\t|\t\t|\tsynonym\t|\r\n```\r\n\r\nBecause nomer already supports offline matching of ncbi taxa by id, support for matching by (exact) name / synonyms can also be added. Would you use that ?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/789969119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/789974692","html_url":"https://github.com/globalbioticinteractions/nomer/issues/32#issuecomment-789974692","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/32","id":789974692,"node_id":"MDEyOklzc3VlQ29tbWVudDc4OTk3NDY5Mg==","user":{"login":"nleguillarme","id":44698109,"node_id":"MDQ6VXNlcjQ0Njk4MTA5","avatar_url":"https://avatars.githubusercontent.com/u/44698109?v=4","gravatar_id":"","url":"https://api.github.com/users/nleguillarme","html_url":"https://github.com/nleguillarme","followers_url":"https://api.github.com/users/nleguillarme/followers","following_url":"https://api.github.com/users/nleguillarme/following{/other_user}","gists_url":"https://api.github.com/users/nleguillarme/gists{/gist_id}","starred_url":"https://api.github.com/users/nleguillarme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nleguillarme/subscriptions","organizations_url":"https://api.github.com/users/nleguillarme/orgs","repos_url":"https://api.github.com/users/nleguillarme/repos","events_url":"https://api.github.com/users/nleguillarme/events{/privacy}","received_events_url":"https://api.github.com/users/nleguillarme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T18:54:15Z","updated_at":"2021-03-03T18:54:15Z","body":"> Shouldn't be too hard to do similar things with other taxonomies, but I can see that it would be easy to reuse an existing resource.\r\n\r\nI agree with you, and this is something I may consider in the future, e.g. exporting the GBIF Backbone taxonomy as an ontology.\r\n\r\n> Did you consider contacting the Global Names folks about this? (e.g., @dima)\r\n\r\nWell I checked the GitHub [repo](https://github.com/GlobalNamesArchitecture/gni) of Global Name Resolver : the last commit is 4 years ago, so I was wondering if the project is still alive...\r\n\r\n> Because nomer already supports offline matching of ncbi taxa by id, support for matching by (exact) name / synonyms can also be added. Would you use that ?\r\n\r\nI would absolutely use that !","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/789974692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/790099127","html_url":"https://github.com/globalbioticinteractions/nomer/issues/32#issuecomment-790099127","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/32","id":790099127,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDA5OTEyNw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T22:04:11Z","updated_at":"2021-03-03T22:04:11Z","body":"@nleguillarme I've implemented a first version of offline-enable id/name/synonym matching against ncbi taxonomy. \r\n\r\n```\r\n$ echo -e \"\\tAriopsis felis\\n\\tHolosticha manca\" | nomer append ncbi-taxon\r\n\tAriopsis felis\tSAME_AS\tNCBI:75286\tAriopsis felis\tspecies\t\troot | cellular organisms | Eukaryota | Opisthokonta | Metazoa | Eumetazoa | Bilateria | Deuterostomia | Chordata | Craniata | Vertebrata | Gnathostomata | Teleostomi | Euteleostomi | Actinopterygii | Actinopteri | Neopterygii | Teleostei | Osteoglossocephalai | Clupeocephala | Otomorpha | Ostariophysi | Otophysi | Characiphysae | Siluriformes | Siluroidei | Ariidae | Ariopsis | Ariopsis felis\tNCBI:1 | NCBI:131567 | NCBI:2759 | NCBI:33154 | NCBI:33208 | NCBI:6072 | NCBI:33213 | NCBI:33511 | NCBI:7711 | NCBI:89593 | NCBI:7742 | NCBI:7776 | NCBI:117570 | NCBI:117571 | NCBI:7898 | NCBI:186623 | NCBI:41665 | NCBI:32443 | NCBI:1489341 | NCBI:186625 | NCBI:186634 | NCBI:32519 | NCBI:186626 | NCBI:186628 | NCBI:7995 | NCBI:1489793 | NCBI:31017 | NCBI:243723 | NCBI:75286\t|  | superkingdom | clade | kingdom | clade | clade | clade | phylum | subphylum | clade | clade | clade | clade | superclass | class | subclass | infraclass | clade |  | cohort | subcohort | clade | superorder | order | suborder | family | genus | species\thttps://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id=75286\t\r\n\tHolosticha manca\tSYNONYM_OF\tNCBI:385028\tAnteholosticha manca\tspecies\t\troot | cellular organisms | Eukaryota | Sar | Alveolata | Ciliophora | Intramacronucleata | Spirotrichea | Stichotrichia | Urostylida | Holostichidae | Anteholosticha | Anteholosticha manca\tNCBI:1 | NCBI:131567 | NCBI:2759 | NCBI:2698737 | NCBI:33630 | NCBI:5878 | NCBI:431838 | NCBI:33829 | NCBI:194286 | NCBI:486728 | NCBI:578128 | NCBI:584654 | NCBI:385028\t|  | superkingdom | clade | clade | phylum | subphylum | class | subclass | order | family | genus | species\thttps://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id=385028\t\r\n```\r\n\r\nNote that the first time, will be slow, because it'll download/index a new copy of the NCBI taxonomy as configured. \r\n\r\nAlso, if you have an existing ncbi cache, please use ```nomer clean``` to clear our the old local index first.\r\n\r\nI'll work on publishing a new release with this new matcher in it. Thanks for being patient.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/790099127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/790151256","html_url":"https://github.com/globalbioticinteractions/nomer/issues/32#issuecomment-790151256","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/32","id":790151256,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MDE1MTI1Ng==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-03T23:35:07Z","updated_at":"2021-03-03T23:35:07Z","body":"The recently created Nomer release https://github.com/globalbioticinteractions/nomer/releases/tag/0.1.24 contains the first pass at the NCBI name/synonym you describe.\r\n\r\nCurious to hear your comments on the new functionality.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/790151256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/791416645","html_url":"https://github.com/globalbioticinteractions/nomer/issues/32#issuecomment-791416645","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/32","id":791416645,"node_id":"MDEyOklzc3VlQ29tbWVudDc5MTQxNjY0NQ==","user":{"login":"nleguillarme","id":44698109,"node_id":"MDQ6VXNlcjQ0Njk4MTA5","avatar_url":"https://avatars.githubusercontent.com/u/44698109?v=4","gravatar_id":"","url":"https://api.github.com/users/nleguillarme","html_url":"https://github.com/nleguillarme","followers_url":"https://api.github.com/users/nleguillarme/followers","following_url":"https://api.github.com/users/nleguillarme/following{/other_user}","gists_url":"https://api.github.com/users/nleguillarme/gists{/gist_id}","starred_url":"https://api.github.com/users/nleguillarme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nleguillarme/subscriptions","organizations_url":"https://api.github.com/users/nleguillarme/orgs","repos_url":"https://api.github.com/users/nleguillarme/repos","events_url":"https://api.github.com/users/nleguillarme/events{/privacy}","received_events_url":"https://api.github.com/users/nleguillarme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-05T13:23:32Z","updated_at":"2021-03-05T13:23:32Z","body":"It works perfectly.\r\n\r\nConverting GBIF taxon to NCBI taxon is not trivial. I now make a first pass with wikidata-taxon-id-web, then try to match on names using globi-taxon-cache, then ncbi-taxon. The synonym information is useful to match a few more names.\r\n\r\nThank you for your help and your reactivity as always.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/791416645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]