[{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1178212391","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1178212391","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1178212391,"node_id":"IC_kwDOBvmSqc5GOhgn","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T20:50:36Z","updated_at":"2022-07-07T20:50:36Z","body":"extracted using:\r\n\r\n```\r\n$ preston track \"https://ipt.lsa.umich.edu/archive.do?r=ummz_mammals\"\\\r\npreston dwc-stream\\\r\npreston grep \"Reithrodontomys FULVESCENS GRISEOFLAVUS\"\\\r\nhead -n1\\\r\njq .\r\n```\r\nresulted in:\r\n\r\n```json\r\n{\r\n  \"http://www.w3.org/ns/prov#wasDerivedFrom\": \"line:zip:hash://sha256/673d16b708ce0f94faabfa037b13e515a36144e405ad80d63280e75d5f85cc82!/occurrence.txt!/L130\",\r\n  \"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\": \"http://rs.tdwg.org/dwc/terms/Occurrence\",\r\n  \"http://rs.tdwg.org/dwc/text/id\": \"5127278f-211a-4e99-bbc1-a3ba9ac14c4e\",\r\n  \"http://rs.tdwg.org/dwc/terms/occurrenceID\": \"5127278f-211a-4e99-bbc1-a3ba9ac14c4e\",\r\n  \"http://rs.tdwg.org/dwc/terms/higherGeography\": \"MEXICO, JALISCO\",\r\n  \"http://rs.tdwg.org/dwc/terms/stateProvince\": \"JALISCO\",\r\n  \"http://rs.tdwg.org/dwc/terms/taxonomicStatus\": \"Current\",\r\n  \"http://rs.tdwg.org/dwc/terms/institutionCode\": \"UMMZ\",\r\n  \"http://rs.tdwg.org/dwc/terms/decimalLongitude\": \"-103.0245847000\",\r\n  \"http://rs.tdwg.org/dwc/terms/georeferenceVerificationStatus\": \"unverified\",\r\n  \"http://rs.tdwg.org/dwc/terms/basisOfRecord\": \"PreservedSpecimen\",\r\n  \"http://rs.tdwg.org/dwc/terms/occurrenceRemarks\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/recordNumber\": \"3389\",\r\n  \"http://rs.tdwg.org/dwc/terms/verbatimLocality\": \"MEXICO: JALISCO:  CO.; 0.5MI NW MAZAMITLA; 19.9207047, -103.0245847;\",\r\n  \"http://rs.tdwg.org/dwc/terms/verbatimLongitude\": \"-103.02458470000001\",\r\n  \"http://rs.tdwg.org/dwc/terms/catalogNumber\": \"100128\",\r\n  \"http://rs.tdwg.org/dwc/terms/scientificName\": \"Reithrodontomys FULVESCENS GRISEOFLAVUS\",\r\n  \"http://rs.tdwg.org/dwc/terms/kingdom\": \"Animalia\",\r\n  \"http://rs.tdwg.org/dwc/terms/otherCatalogNumbers\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/country\": \"MEXICO\",\r\n  \"http://rs.tdwg.org/dwc/terms/georeferencedDate\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/family\": \"Cricetidae\",\r\n  \"http://rs.tdwg.org/dwc/terms/nomenclaturalCode\": \"ICZN\",\r\n  \"http://rs.tdwg.org/dwc/terms/recordedBy\": \"Hooper, E.\",\r\n  \"http://rs.tdwg.org/dwc/terms/georeferencedBy\": \"Lucy Tran\",\r\n  \"http://rs.tdwg.org/dwc/terms/verbatimLatitude\": \"19.920704700000002\",\r\n  \"http://rs.tdwg.org/dwc/terms/collectionCode\": \"mammals\",\r\n  \"http://rs.tdwg.org/dwc/terms/eventDate\": \"02-07-1953\",\r\n  \"http://rs.tdwg.org/dwc/terms/georeferenceRemarks\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/month\": \"02\",\r\n  \"http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters\": \"0.9940000000\",\r\n  \"http://rs.tdwg.org/dwc/terms/georeferenceProtocol\": \"MaNIS georeferencing guidelines\",\r\n  \"http://rs.tdwg.org/dwc/terms/specificEpithet\": \"FULVESCENS\",\r\n  \"http://rs.tdwg.org/dwc/terms/verbatimElevation\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/geodeticDatum\": \"NAD27\",\r\n  \"http://rs.tdwg.org/dwc/terms/phylum\": \"Chordata\",\r\n  \"http://rs.tdwg.org/dwc/terms/preparations\": \"SKIN - 1|SKULL - 1\",\r\n  \"http://purl.org/dc/terms/modified\": \"2015-10-13\",\r\n  \"http://rs.tdwg.org/dwc/terms/order\": \"Rodentia\",\r\n  \"http://rs.tdwg.org/dwc/terms/year\": \"1953\",\r\n  \"http://rs.tdwg.org/dwc/terms/day\": \"07\",\r\n  \"http://rs.tdwg.org/dwc/terms/continent\": \"NORTH AMERICA\",\r\n  \"http://rs.tdwg.org/dwc/terms/establishmentMeans\": \"Native\",\r\n  \"http://rs.tdwg.org/dwc/terms/genus\": \"Reithrodontomys\",\r\n  \"http://rs.tdwg.org/dwc/terms/lifeStage\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/county\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/decimalLatitude\": \"19.9207047000\",\r\n  \"http://rs.tdwg.org/dwc/terms/reproductiveCondition\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/georeferenceSources\": \"Localidades 2000, INEGI\",\r\n  \"http://rs.tdwg.org/dwc/terms/occurrenceStatus\": \"Present\",\r\n  \"http://rs.tdwg.org/dwc/terms/typeStatus\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/higherClassification\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/class\": \"Mammalia\",\r\n  \"http://rs.tdwg.org/dwc/terms/taxonRank\": \"subspecies\",\r\n  \"http://rs.tdwg.org/dwc/terms/sex\": \"FEMALE\",\r\n  \"http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem\": \"decimal degrees\",\r\n  \"http://rs.tdwg.org/dwc/terms/verbatimEventDate\": \"7 FEBRUARY 1953\",\r\n  \"http://rs.tdwg.org/dwc/terms/fieldNumber\": null,\r\n  \"http://rs.tdwg.org/dwc/terms/locality\": \"0.5MI NW MAZAMITLA\",\r\n  \"http://rs.tdwg.org/dwc/terms/infraspecificEpithet\": \"GRISEOFLAVUS\"\r\n}\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1178212391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1178244280","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1178244280","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1178244280,"node_id":"IC_kwDOBvmSqc5GOpS4","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T21:20:41Z","updated_at":"2022-07-07T21:25:58Z","body":"Note that UMMZ record mentioned above is interpreted and indexed only it's genus Reithrodontomys, instead of, what I assume, its full scientific name subspecific name - \r\n\r\n\r\nReithrodontomys FULVESCENS GRISEOFLAVUS\r\n\r\n\r\nfrom https://www.gbif.org/occurrence/1987272568 accessed at 2022-07-07 \r\n\r\n![Screenshot from 2022-07-07 16-18-01](https://user-images.githubusercontent.com/1084872/177873235-964d574e-91e0-4fe2-8a81-901854619c79.png)\r\n\r\n![Screenshot from 2022-07-07 16-25-28](https://user-images.githubusercontent.com/1084872/177874035-0c27e436-0451-4e33-a41b-1c261a2db75c.png)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1178244280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1178262019","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1178262019","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1178262019,"node_id":"IC_kwDOBvmSqc5GOtoD","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T21:48:08Z","updated_at":"2022-07-07T21:48:08Z","body":"A rough estimate of just UMMZ Mammals records left only crudely indexed by GBIF would be:\r\n\r\n```\r\n$ preston ls | preston dwc-stream | jq --raw-output '.[\"http://rs.tdwg.org/dwc/terms/scientificName\"]' | grep -P \"[A-Z]{2,}\" | sort | uniq -c | wc -l\r\n1942\r\n```\r\naffect names associated with no more than\r\n$ preston ls | preston dwc-stream | jq --raw-output '. | select(.[\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\"] ==\"http://rs.tdwg.org/dwc/terms/Occurrence\") | .[\"http://rs.tdwg.org/dwc/terms/scientificName\"]' | grep \"[A-Z][A-Z]\" | wc -l\r\n91392\r\n91k out of\r\n\r\n```\r\n $ preston ls | preston dwc-stream | jq --raw-output '. | select(.[\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\"] ==\"http://rs.tdwg.org/dwc/terms/Occurrence\") | .[\"http://rs.tdwg.org/dwc/terms/scientificName\"]' | grep \"[A-Za-z]\" | wc -l\r\n128087\r\n```\r\n\r\n128k specimen records, leaving potentially more than half of UMMZ Mammal records indexed by GBIF only to the genus level. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1178262019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263920385","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1263920385","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1263920385,"node_id":"IC_kwDOBvmSqc5LVeUB","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T19:05:44Z","updated_at":"2022-09-30T19:05:44Z","body":"@mdoering I am noticing intermittent parsing failures on long names with all caps. I noticed related issues. Given that this would happen a bunch with millions of names, I wonder whether you are planning to resolve this issue?\r\n\r\nThanks for all your hard work in providing this neat modular java taxonomic name parser library.  \r\n\r\nrelated issues https://github.com/gbif/name-parser/issues/51 https://github.com/gbif/name-parser/issues/12\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263920385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1264660617","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1264660617","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1264660617,"node_id":"IC_kwDOBvmSqc5LYTCJ","user":{"login":"mdoering","id":327505,"node_id":"MDQ6VXNlcjMyNzUwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/327505?v=4","gravatar_id":"","url":"https://api.github.com/users/mdoering","html_url":"https://github.com/mdoering","followers_url":"https://api.github.com/users/mdoering/followers","following_url":"https://api.github.com/users/mdoering/following{/other_user}","gists_url":"https://api.github.com/users/mdoering/gists{/gist_id}","starred_url":"https://api.github.com/users/mdoering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdoering/subscriptions","organizations_url":"https://api.github.com/users/mdoering/orgs","repos_url":"https://api.github.com/users/mdoering/repos","events_url":"https://api.github.com/users/mdoering/events{/privacy}","received_events_url":"https://api.github.com/users/mdoering/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-02T14:46:36Z","updated_at":"2022-10-02T14:46:36Z","body":"Do you have examples of such problem cases? The issue to linked to is about long authorships, but not all capital names.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1264660617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1264766270","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1264766270","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1264766270,"node_id":"IC_kwDOBvmSqc5LYs0-","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-02T23:46:34Z","updated_at":"2022-10-02T23:46:34Z","body":"@mdoering thanks for asking for examples:\r\n\r\nYou'll find one here:\r\n\r\nhttps://github.com/globalbioticinteractions/nomer/blob/0170ecc987c8eddb4bc44177ce962718ccf88cf0/nomer-name-correct/src/test/java/org/eol/globi/taxon/NameParserTestBase.java#L24\r\n\r\nThis names appeared, as stated earlier, in https://github.com/globalbioticinteractions/nomer/issues/89#issue-1297909793 , in UMMZ mammals \r\n\r\nfound via:\r\n\r\n```\r\npreston track \"https://ipt.lsa.umich.edu/archive.do?r=ummz_mammals\"\\\r\n | preston dwc-stream\\\r\n | preston grep \"Reithrodontomys FULVESCENS GRISEOFLAVUS\"\\\r\n | head -n1\\\r\n | jq .\r\n```\r\n\r\nGiven the one second timeout in the gbif code (spinning up a new timed job for each parse event), explains the intermittent nature of the crashes, especially when running on virtualized hardware like those used by GitHub actions. \r\n\r\nI hope this example help - and am curious to hear your thoughts on this.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1264766270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1265004844","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1265004844","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1265004844,"node_id":"IC_kwDOBvmSqc5LZnEs","user":{"login":"mdoering","id":327505,"node_id":"MDQ6VXNlcjMyNzUwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/327505?v=4","gravatar_id":"","url":"https://api.github.com/users/mdoering","html_url":"https://github.com/mdoering","followers_url":"https://api.github.com/users/mdoering/followers","following_url":"https://api.github.com/users/mdoering/following{/other_user}","gists_url":"https://api.github.com/users/mdoering/gists{/gist_id}","starred_url":"https://api.github.com/users/mdoering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdoering/subscriptions","organizations_url":"https://api.github.com/users/mdoering/orgs","repos_url":"https://api.github.com/users/mdoering/repos","events_url":"https://api.github.com/users/mdoering/events{/privacy}","received_events_url":"https://api.github.com/users/mdoering/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-03T06:47:20Z","updated_at":"2022-10-03T06:47:20Z","body":"That is a tricky one as the genus is not capitalized. The capital epithets could as well be authors. Not sure if I can find a fix quickly. \n\nThe separate threads and timeouts are unfortunately needed and part of the design, as regexes can not be guaranteed to finish and there is no other way to stop a runaway regex than to kill its thread. You can increase the timeout in your code when using the parser, also to reflect your hardware. There will always be unparsable names though, sth to code for I am afraid. \n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1265004844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1265808804","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1265808804","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1265808804,"node_id":"IC_kwDOBvmSqc5LcrWk","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-03T17:41:56Z","updated_at":"2022-10-03T17:41:56Z","body":"@mdoering I can see how having to align millions of names with varying formatting due to local custom, existing data exports etc. I can see why you had to introduce the timeout for the parsing - to me this is one of these seemingly hack-y solution that actually conveys a ton of experience and pragmatism. \r\n\r\nThanks for taking the time to review. \r\n\r\nPerhaps on thing to do here is to expect intermittent failures somehow, and by pre-processing known funny suspect names. These names are in the record forever, so we'll have to find a way to make do.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1265808804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1266322281","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-1266322281","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":1266322281,"node_id":"IC_kwDOBvmSqc5Leotp","user":{"login":"mdoering","id":327505,"node_id":"MDQ6VXNlcjMyNzUwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/327505?v=4","gravatar_id":"","url":"https://api.github.com/users/mdoering","html_url":"https://github.com/mdoering","followers_url":"https://api.github.com/users/mdoering/followers","following_url":"https://api.github.com/users/mdoering/following{/other_user}","gists_url":"https://api.github.com/users/mdoering/gists{/gist_id}","starred_url":"https://api.github.com/users/mdoering/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdoering/subscriptions","organizations_url":"https://api.github.com/users/mdoering/orgs","repos_url":"https://api.github.com/users/mdoering/repos","events_url":"https://api.github.com/users/mdoering/events{/privacy}","received_events_url":"https://api.github.com/users/mdoering/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T02:43:18Z","updated_at":"2022-10-04T08:26:48Z","body":"Yes. And Ill try my best to improve the parser (which has that preprocessing discovery already for various problem cases). This case is just tricky because even as a human it is not entirely obvious what it is. I guess the latin endings convince us that these all caps words are epithets not authors?\r\n\r\nBut I wanted to point out the UnparsableException thrown due to timeout or other reason is part of the parsers interface contract. This is mostly because of unpredictable regex performance https://bugs.openjdk.org/browse/JDK-8260688","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1266322281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/2186722023","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-2186722023","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":2186722023,"node_id":"IC_kwDOBvmSqc6CVrrn","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-24T14:30:21Z","updated_at":"2024-06-24T14:30:21Z","body":"```\r\necho -e \"\\tReithrodontomys FULVESCENS GRISEOFLAVUS\"\\\r\n |  nomer append gbif-parse\r\n```\r\n\r\nnow producing a \r\n\r\n```\r\n[main] WARN org.gbif.nameparser.NameParserGBIF - Parsing timeout for: Reithrodontomys FULVESCENS GRISEOFLAVUS\r\n\tReithrodontomys FULVESCENS GRISEOFLAVUS\tSAME_AS\t\tReithrodontomys FULVESCENS GRISEOFLAVUS\t\t\t\t\t\t\t\t\r\n```\r\n\r\nWith current version of Nomer/gbif-parser, a name that causes a timeout is returned. Neat to see that there's a specific timeout exception thrown, informing the API called of the issue at hand.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/2186722023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/2214972899","html_url":"https://github.com/globalbioticinteractions/nomer/issues/89#issuecomment-2214972899","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/89","id":2214972899,"node_id":"IC_kwDOBvmSqc6EBc3j","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-08T19:08:48Z","updated_at":"2024-07-08T19:08:48Z","body":"```echo -e \"\\tReithrodontomys FULVESCENS GRISEOFLAVUS\"\\\r\n |  nomer append gbif-parse\r\n```\r\n\r\n| providedExternalId | providedName | relationName | resolvedExternalId | resolvedName | resolvedAuthorship | resolvedRank | resolvedCommonNames | resolvedPath | resolvedPathIds | resolvedPathNames | resolvedPathAuthorships | resolvedExternalUrl |\r\n| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |\r\n|  | Reithrodontomys FULVESCENS GRISEOFLAVUS | SAME_AS |  | Reithrodontomys | Fulvescens Griseoflavus | unranked |  |  |  |  |  |  |\r\n\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/2214972899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]