[{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263651088","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263651088","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263651088,"node_id":"IC_kwDOBvmSqc5LUckQ","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T14:29:50Z","updated_at":"2022-09-30T14:30:13Z","body":"@jtmiller28 thanks for sharing these details. \r\n\r\nUsing your example, I found that gn-parse appears to insert a whitespace after the ```×```` character. \r\n\r\n\r\n```\r\n$ echo -e \"\\tCylindropuntia ×fosbergii\\t(C.B.Wolf) Rebman, M.A.Baker & Pinkava\" | nomer append gn-parse\r\n[main] INFO org.globalbioticinteractions.nomer.match.TermMatcherRegistry - using matcher [gn-parse]\r\n\tCylindropuntia ×fosbergii\t(C.B.Wolf) Rebman, M.A.Baker & Pinkava\tSAME_AS\t\tCylindropuntia × fosbergii\t\t\t\t\t\r\n```\r\n\r\nbefore/after:\r\n\r\n```\r\nCylindropuntia ×fosbergii (before gn-parse)\r\nCylindropuntia × fosbergii (after gn-parse)\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263651088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263656263","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263656263","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263656263,"node_id":"IC_kwDOBvmSqc5LUd1H","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T14:34:13Z","updated_at":"2022-09-30T14:34:13Z","body":"and, it appears that WFO reports the name as ```Cylindropuntia ×fosbergii```. Currently, Nomer does does exact matches on ```nomer append wfo``` in an effort to separate pre-processing (e.g., name normalization/parsing) from matching. And, perhaps this example shows that application of taxonomic name formatting for hybrids appears different comparing  the \"gn-parse\"-universe and the WFO-universe. \r\n\r\n@dimus @qgroom I was wondering whether you have any insights in the application / rules of hybrids in botanical nomenclature.  ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263656263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263724852","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263724852","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263724852,"node_id":"IC_kwDOBvmSqc5LUuk0","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T15:34:18Z","updated_at":"2022-09-30T15:34:18Z","body":"@jtmiller28 note that it appears that the gbif parser also adds the whitespace - \r\n\r\n```\r\n$ echo -e \"\\tCylindropuntia ×fosbergii\" | nomer append gbif-parse\r\n[main] INFO org.globalbioticinteractions.nomer.match.TermMatcherRegistry - using matcher [gbif-parse]\r\n\tCylindropuntia ×fosbergii\tSAME_AS\t\tCylindropuntia × fosbergii\t\t\t\t\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263724852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263727978","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263727978","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263727978,"node_id":"IC_kwDOBvmSqc5LUvVq","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T15:37:24Z","updated_at":"2022-09-30T15:37:24Z","body":"@jtmiller28 My main question is - why does the World of Flora Online use ```Cylindropuntia ×fosbergii``` whereas two pretty well known name parsers (globalnames, gbif parser) inject a whitespace in between the ```×``` and the name ```fosbergii```?\r\n\r\nA possible (silly) workaround for facilitate matching against WFO using ```sed``` without adding built in name interpretation into Nomer's WFO can be:\r\n\r\n```\r\n$ echo -e \"\\tCylindropuntia × fosbergii\" | sed 's/× /×/g' | nomer append wfo\r\n\tCylindropuntia ×fosbergii\tHAS_ACCEPTED_NAME\tWFO:0000632373\tCylindropuntia ×fosbergii\tspecies\t\tAngiosperms | Caryophyllales | Cactaceae | Cylindropuntia | Cylindropuntia ×fosbergii\tWFO:9949999999 | WFO:9000000088 | WFO:7000000098 | WFO:4000010332 | WFO:0000632373\tphylum | order | family | genus | species\thttp://www.worldfloraonline.org/taxon/wfo-0000632373\t\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263727978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263731519","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263731519","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263731519,"node_id":"IC_kwDOBvmSqc5LUwM_","user":{"login":"jtmiller28","id":82229873,"node_id":"MDQ6VXNlcjgyMjI5ODcz","avatar_url":"https://avatars.githubusercontent.com/u/82229873?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmiller28","html_url":"https://github.com/jtmiller28","followers_url":"https://api.github.com/users/jtmiller28/followers","following_url":"https://api.github.com/users/jtmiller28/following{/other_user}","gists_url":"https://api.github.com/users/jtmiller28/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmiller28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmiller28/subscriptions","organizations_url":"https://api.github.com/users/jtmiller28/orgs","repos_url":"https://api.github.com/users/jtmiller28/repos","events_url":"https://api.github.com/users/jtmiller28/events{/privacy}","received_events_url":"https://api.github.com/users/jtmiller28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T15:40:51Z","updated_at":"2022-09-30T15:40:51Z","body":"@jhpoelen Yes I was talking to some plant systemist about this the other day, it does seem to be a proper/used way to name hybrids using genus x specificEpithet . Your insight on WFO having their specific way of attaching 'x' to the specificEpithet is definitely what causes the issue. \r\n\r\nI do see that workaround being effective considering this is more of a catalogue peculiarity and should probably be brought to their attention for a more complete mapping list, I'll make that consideration for when working with the data","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263731519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263751584","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263751584","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263751584,"node_id":"IC_kwDOBvmSqc5LU1Gg","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T16:01:04Z","updated_at":"2022-09-30T16:01:04Z","body":"@jtmiller28 thanks for sharing your outcomes with experts on this. Do you think it would make WFO more usable if we \"fix\" the funny WFO provided names by inserted the whitespace on indexing / parsing? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263751584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263760925","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263760925","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263760925,"node_id":"IC_kwDOBvmSqc5LU3Yd","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T16:09:45Z","updated_at":"2022-09-30T16:09:45Z","body":"Also, there surely must be a reason why WFO chose to adopt this naming convention. Do you have any idea why?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263760925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263796214","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263796214","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263796214,"node_id":"IC_kwDOBvmSqc5LU__2","user":{"login":"jtmiller28","id":82229873,"node_id":"MDQ6VXNlcjgyMjI5ODcz","avatar_url":"https://avatars.githubusercontent.com/u/82229873?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmiller28","html_url":"https://github.com/jtmiller28","followers_url":"https://api.github.com/users/jtmiller28/followers","following_url":"https://api.github.com/users/jtmiller28/following{/other_user}","gists_url":"https://api.github.com/users/jtmiller28/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmiller28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmiller28/subscriptions","organizations_url":"https://api.github.com/users/jtmiller28/orgs","repos_url":"https://api.github.com/users/jtmiller28/repos","events_url":"https://api.github.com/users/jtmiller28/events{/privacy}","received_events_url":"https://api.github.com/users/jtmiller28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T16:46:34Z","updated_at":"2022-09-30T16:46:34Z","body":"Honestly not too sure! My fear is that applying a large scale fix might just trip other unforseen issues is regular expressions..Im not an expert in sed yet, so I wouldn't know if that might trip in other instances where a genus is prefixed by x, example: _×Aegilotriticum requienii_ . \r\n\r\nAs for why they do it this way...Im still unsure since plants have much more unique cases in hybrids (the biological species concept is difficult to justify in many cases) but my labs PIs are actually meeting with some of WFO representatives this Monday over in the EU so I'm building a list of questions about the nature of their catalogue to ask about and hopefully gain some insight on, so this will definitely be part of it. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263796214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263879196","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1263879196","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1263879196,"node_id":"IC_kwDOBvmSqc5LVUQc","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T18:19:01Z","updated_at":"2022-09-30T18:19:01Z","body":"@jtmiller28 very much would like to hear the backstory on the WFO hybrid naming conventions. Thanks for being thorough on this. Formatting names are pretty important I think, especially for integrating lots of datasets.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1263879196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1264431043","html_url":"https://github.com/globalbioticinteractions/nomer/issues/107#issuecomment-1264431043","issue_url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/107","id":1264431043,"node_id":"IC_kwDOBvmSqc5LXa_D","user":{"login":"dimus","id":12124,"node_id":"MDQ6VXNlcjEyMTI0","avatar_url":"https://avatars.githubusercontent.com/u/12124?v=4","gravatar_id":"","url":"https://api.github.com/users/dimus","html_url":"https://github.com/dimus","followers_url":"https://api.github.com/users/dimus/followers","following_url":"https://api.github.com/users/dimus/following{/other_user}","gists_url":"https://api.github.com/users/dimus/gists{/gist_id}","starred_url":"https://api.github.com/users/dimus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimus/subscriptions","organizations_url":"https://api.github.com/users/dimus/orgs","repos_url":"https://api.github.com/users/dimus/repos","events_url":"https://api.github.com/users/dimus/events{/privacy}","received_events_url":"https://api.github.com/users/dimus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-01T17:30:18Z","updated_at":"2022-10-01T19:19:24Z","body":"Whitespace: \"In the wild\" names exist with and without space between hybrid sign and specific epithet. I think both gnparser and gbif parser desided on having a space for the same reason: it helps to prevent conversion by mistake of the hybrid sign into a letter 'x' by a human or OCR, creating a misspelling that cannot be fixed easily. The situtaion also gets more complicated when hybrid sign is completely omitted, or replaced with 'X' or 'x' characters.\r\n\r\nThere are 3 \"canonical forms\" in gnparser. \r\n\r\n\"Stemmed\" -- it removes all hybrid signs and suffixes from specific epithets and it should be used for lexical reconsiliation.\r\n\r\n\"Simple\" -- it preserves suffixes, but removes hybrid signs. It can be used for calculating editing distances and for less accurate lexical reconciliation.\r\n\r\n\"Full\" -- with hybrid signs and other details, it is usually used for displaying a name without aftorship.\r\n\r\nI do lexical reconciliation by comparing stemmed canonical form of input with stemmed canonical forms of aggregated names. This way hybrid signs do not prevent matching. Sadly, I do think that preprocessing has to be included, or some matches will not happen.\r\n\r\n\r\n\r\n**Things below can be scratched :)**\r\nHm, I imagine the problem is with old Scala gnparser @jhpoelen:\r\n\r\nhttp://parser.globalnames.org/?format=html&names=Cylindropuntia+%C3%97fosbergii&with_details=on\r\n\r\nGo-written current parser does parse hybrids correctly. There were a lot of improvements in parsing quality since Scala version.\r\n\r\nNames with hybrid signs have a lot of vairations. Quite often people use 'x' and 'X' characters instead of UTF-8 multiplication character, somtimes they add spaces, sometimes not. Also there are \"notho\" names, where hybrids are implied.\r\n\r\n\r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/globalbioticinteractions/nomer/issues/comments/1264431043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]